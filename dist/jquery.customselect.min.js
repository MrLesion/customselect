"use strict";!function(e){e.fn.customselect=function(t){var n=this,o=e.extend({labelPosition:"after",style:"list",classList:"",selectors:["select-multiple","select-one"],observe:!0,multiSelectedLimit:3,multiSelectedDelimiter:" | ",dropdownEmptyText:"Nothing selected",dropdownSelectedText:"selected",dropdownAllSelectedText:"All selected"},t),r={_instances:[],settings:{added:"custom-select-added"},utils:{getCustomSelectID:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*o));return"customselect"+t},createElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement(e);return n.className=t,n},getSelectStyle:function(e,t){var n={list:"div",item:"div",type:e,dropdown:!1};return"list"!==t.style&&"dropdown"!==t.style||(n.list="ul",n.item="li"),"dropdown"===t.style&&(n.dropdown=!0),n},delegate:function(e,t,n){document.addEventListener(e,(function(e){for(var o=e.target;o&&o!==this;o=o.parentNode)if(o.matches(t)){n.call(o,e);break}}),!1)},getSelectOptions:function(e){return r._instances.find((function(t){return t.id===e}))}},init:function(){n.each((function(e,t){r.build(t,!0)}))},bindDropdown:function(e){document.getElementById(e.id).addEventListener("click",(function(e){var t=e.target.closest(".customselect-dropdown");r.closeAllDropdowns(t),r.toggleDropdown(t)})),document.addEventListener("click",(function(e){!1===(null!==e.target.closest(".customselect-dropdown"))&&r.closeAllDropdowns()}))},closeAllDropdowns:function(e){var t=document.querySelectorAll(".customselect-dropdown");Array.from(t).filter((function(t){return t!==e})).forEach((function(e){e.classList.remove("open")}))},toggleDropdown:function(e){e.className.indexOf("open")>-1?e.classList.remove("open"):e.classList.add("open")},bindListener:function(e){var t=new MutationObserver((function(t){t.forEach((function(t){var n=t.addedNodes;null!==n&&n.forEach((function(t){var n=t.querySelector("select");t.matches("select")&&(n=t),null!==n&&n.length>0&&-1===n.className.indexOf(r.settings.added)&&r.build(e,!1)}))}))})),n=e;t.observe(n,{childList:!0,attributes:!1,subtree:!1,characterData:!1})},bindEventLink:function(e,t,n,o){e.addEventListener("change",(function(r){if(t.find((function(e){return e.value===r.target.value})).selected=r.target.checked,!0===n.dropdown){var i=e.closest(".customselect-dropdown"),l=t.filter((function(e){return!0===e.selected})),c=i.querySelector(".customselect-dropdown-text");if(0===l.length)c.innerText=o.dropdownEmptyText;else{var a=l.map((function(e){return e.textContent})).filter((function(e){return e})).join(o.multiSelectedDelimiter);l.length>o.multiSelectedLimit&&l.length<t.length?a=l.length+" "+o.dropdownSelectedText:l.length===t.length&&(a=o.dropdownAllSelectedText),c.innerText=a}"select-one"===n.type&&i.classList.remove("open")}}))},build:function(e,t){var n=Array.from(e.querySelectorAll("select")).filter((function(e){return o.selectors.indexOf(e.type)>-1}));if(null===n)return!1;n.forEach((function(e){if(e.className.indexOf(r.settings.added)>-1)return!1;var t=r.utils.getCustomSelectID(20),n=e.dataset,i=Object.assign({},o);i=Object.assign(i,n);var l=r.utils.getSelectStyle(e.type,i),c=Array.from(e.options),a=c.filter((function(e){return e.selected}));if(r._instances.push({id:t,select:e,options:i}),e.dataset.customselectDataId=t,-1===i.selectors.indexOf(l.type))return console.error(l.type+" is not a valid selector for customselect"),!1;0===a.length&&"select-one"===l.type&&(c[0].selected=!0);var s=r.utils.createElement(l.list,"customselect-list "+i.classList);if(s.id=t,s.dataset.placeholder=i.dropdownEmptyText,s.dataset.type=l.type,!0===l.dropdown){s.classList.add("customselect-dropdown");var d=r.utils.createElement(l.item,"customselect-list-item customselect-dropdown-text");s.appendChild(d)}c.forEach((function(e){var n=r.buildDomOption(e,t,l,i);s.appendChild(n.domInputWrap),r.bindEventLink(n.domCheckboxOptionInput,c,l,i)})),r.addToDom(e,s,i)})),!0===t&&!0===o.observe&&r.bindListener(e)},buildDomOption:function(e,t,n,o){var i=r.utils.createElement("input","customselect-list-input"),l="",c=r.utils.getCustomSelectID(20);i.type="select-one"===n.type?"radio":"checkbox",i.value=e.value,i.id=c,i.checked=e.selected,"select-one"===n.type&&(l=t,i.name=l);var a=r.utils.createElement("label","customselect-list-label");a.innerText=e.text,a.htmlFor=c;var s=r.utils.createElement(n.item,"customselect-list-input-item");return{domCheckboxOptionInput:i,domInputWrap:r.positionLabel(o.labelPosition,i,a,s)}},positionLabel:function(e,t,n,o){return"before"===e?(o.appendChild(n),o.appendChild(t)):"after"===e?(o.appendChild(t),o.appendChild(n)):(n.appendChild(t),o.appendChild(n)),o},addToDom:function(e,t,n){var o=e.parentNode,i=r.utils.createElement("div","customselect-list-container");e.classList.add(r.settings.added),e.setAttribute("style","display:none !important"),i.appendChild(e),i.appendChild(t),o.appendChild(i),r.triggerInitialState(i),"dropdown"===n.style&&r.bindDropdown(t)},triggerInitialState:function(e){var t=e.querySelectorAll("input");if(t.length>0){var n=new Event("change");t.forEach((function(e){e.dispatchEvent(n)}))}}};r.init()}}(jQuery),function(){var e,t,n,o,r;
/*! http://mths.be/array-from v0.2.0 by @mathias */
Array.from||(e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n||function(e,t,n){e[t]=n.value}}(),t=Object.prototype.toString,n=function(e){return"function"==typeof e||"[object Function]"==t.call(e)},o=Math.pow(2,53)-1,r=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!=t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),o)},e(Array,"from",{value:function(t){var o=this;if(null==t)throw new TypeError("`Array.from` requires an array-like object, not `null` or `undefined`");var i,l,c=Object(t);if(arguments.length>1){if(!n(i=arguments[1]))throw new TypeError("When provided, the second argument to `Array.from` must be a function");arguments.length>2&&(l=arguments[2])}for(var a,s,d=r(c.length),u=n(o)?Object(new o(d)):new Array(d),p=0;p<d;)a=c[p],s=i?void 0===l?i(a,p):i.call(l,a,p):a,e(u,p,{value:s,configurable:!0,enumerable:!0}),++p;return u.length=d,u},configurable:!0,writable:!0})),function(e){if(!Array.prototype.find){var t=function(e){var t=Object(this),n=t.length<0?0:t.length>>>0;if(0!==n){if("function"!=typeof e||"[object Function]"!==Object.prototype.toString.call(e))throw new TypeError("Array#find: predicate must be a function");for(var o,r=arguments[1],i=0;i<n;i++)if(o=t[i],e.call(r,o,i,t))return o}};if(Object.defineProperty)try{Object.defineProperty(Array.prototype,"find",{value:t,configurable:!0,enumerable:!1,writable:!0})}catch(e){}Array.prototype.find||(Array.prototype.find=t)}}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});