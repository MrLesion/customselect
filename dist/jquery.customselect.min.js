"use strict";!function(e){e.fn.customselect=function(t){var n=e.extend({},e.fn.customselect.defaults,t),r={constants:{added:"customselect-added"},utils:{tryParseBool:function(e){var t;return"boolean"==typeof e?e:"boolean"==typeof(t=function(){switch(!1){case"true"!==e.toLowerCase():return!0;case"false"!==e.toLowerCase():return!1}}())?t:void 0},getCustomSelectID:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*r));return t},createElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement(e);return n.className=t,n},getSelectStyle:function(e,t){var n={list:"div",item:"div",type:e,dropdown:r.utils.tryParseBool(t.dropdown)};return"list"===t.style&&(n.list="ul",n.item="li"),n},getObserverSelector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null!==e.parentNode?document.querySelector(e.parentNode):null!==t?t:n.parentNode},trigger:function(e,t){var n=new Event(e);t instanceof NodeList?t.forEach((function(e){e.dispatchEvent(n)})):t.dispatchEvent(n)}},init:function(e){Array.from(e).forEach((function(e){r.buildDomList(e,!0)}))},dropdown:{bindEvents:function(e){document.getElementById(e.id).addEventListener("click",(function(e){var t=e.target.closest(".customselect-dropdown");r.dropdown.closeAll(t),r.dropdown.toggle(t)})),document.addEventListener("click",(function(e){!1===(null!==e.target.closest(".customselect-dropdown"))&&r.dropdown.closeAll()}))},closeAll:function(e){var t=document.querySelectorAll(".customselect-dropdown");Array.from(t).filter((function(t){return t!==e})).forEach((function(e){e.classList.remove("open")}))},toggle:function(e){e.className.indexOf("open")>-1?e.classList.remove("open"):e.classList.add("open")}},bindObserver:function(e){var t=new MutationObserver((function(t){t.forEach((function(t){var n=t.addedNodes;null!==n&&n.forEach((function(t){if(1===t.nodeType){var n=t.querySelector("select");t.matches("select")&&(n=t),null!==n&&n.length>0&&-1===n.className.indexOf(r.constants.added)&&r.buildDomList(e,!1)}}))}))}));1===e.nodeType&&t.observe(e,{childList:!0,attributes:!1,subtree:!0,characterData:!1})},bindEventLink:function(e,t,n,o){e.addEventListener("change",(function(l){if(t.find((function(e){return e.value===l.target.value})).selected=l.target.checked,!0===r.utils.tryParseBool(n.dropdown)){var i=e.closest(".customselect-dropdown"),a=t.filter((function(e){return!0===e.selected})),c=i.querySelector(".customselect-dropdown-text");if(0===a.length)c.innerText=o.emptyText;else{var s=a.map((function(e){return e.textContent})).filter((function(e){return e})).join(o.selectedDelimiter);a.length>o.selectedLimit&&a.length<t.length?s=a.length+" "+o.selectedText:a.length===t.length&&(s=o.allSelectedText),c.innerText=s}"select-one"===n.type&&i.classList.remove("open")}}))},bindByElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.className.indexOf(r.constants.added)>-1)return!1;var l=r.utils.getCustomSelectID(20),i=e.dataset,a=Object.assign({},n);a=Object.assign(a,i);var c=r.utils.getSelectStyle(e.type,a),s=Array.from(e.options),d=s.filter((function(e){return e.selected}));if(e.dataset.customselectDataId=l,-1===a.targetTypes.indexOf(c.type))return console.warn(c.type+" is not a valid selector for customselect"),!1;0===d.length&&"select-one"===c.type&&(s[0].selected=!0);var u=r.utils.createElement(c.list,"customselect-list "+a.classList);if(u.id=l,u.dataset.placeholder=a.emptyText,u.dataset.type=c.type,!0===r.utils.tryParseBool(c.dropdown)){u.classList.add("customselect-dropdown");var f=r.utils.createElement(c.item,"customselect-list-item customselect-dropdown-text");u.appendChild(f)}if(s.forEach((function(e){var t=r.buildDomOption(e,l,c,a);u.appendChild(t.domInputGroup),r.bindEventLink(t.domCheckboxOptionInput,s,c,a)})),r.addToDom(e,u,a),!0===t&&!0===r.utils.tryParseBool(a.observe)){var p=r.utils.getObserverSelector(n,o,e);r.bindObserver(p)}},bindByParent:function(e,t){var o=Array.from(e.querySelectorAll("select")).filter((function(e){return n.targetTypes.indexOf(e.type)>-1}));if(0===o.length){if(!0===t&&!0===r.utils.tryParseBool(n.observe)){var l=r.utils.getObserverSelector(n,e);r.bindObserver(l)}return!1}o.forEach((function(t){r.bindByElement(t,!0,e)}))},buildDomList:function(e,t){-1===n.targetTypes.indexOf(e.type)?r.bindByParent(e,t):r.bindByElement(e,t)},buildDomOption:function(e,t,n,o){var l=r.utils.createElement("input","customselect-list-input"),i="",a=r.utils.getCustomSelectID(20);l.type="select-one"===n.type?"radio":"checkbox",l.value=e.value,l.id=a,l.checked=e.selected,"select-one"===n.type&&(i=t,l.name=i);var c=r.utils.createElement("label","customselect-list-label");return c.innerText=e.text,c.htmlFor=a,{domCheckboxOptionInput:l,domInputGroup:r.positionLabel(o.labelPosition,l,c,n)}},positionLabel:function(e,t,n,o){var l=r.utils.createElement(o.item,"customselect-list-input-item");return"before"===e?(l.appendChild(n),l.appendChild(t)):"after"===e?(l.appendChild(t),l.appendChild(n)):(n.appendChild(t),l.appendChild(n)),l},addToDom:function(e,t,n){var o=e.parentNode,l=r.utils.createElement("div","customselect-list-container");e.classList.add(r.constants.added),e.setAttribute("style","display:none !important"),l.appendChild(e),l.appendChild(t),o.appendChild(l),r.triggerInitialState(l),!0===r.utils.tryParseBool(n.dropdown)&&r.dropdown.bindEvents(t),e.onchange=function(e){var t=e.target.dataset.customselectDataId,n=document.getElementById(t),o=Array.from(e.target.options).filter((function(e){return!0===e.selected}));Array.from(n.querySelectorAll("input")).forEach((function(e){o.find((function(t){return t.value===e.value}))?e.checked=!0:e.checked=!1})),r.triggerInitialState(n)}},triggerInitialState:function(e){var t=e.querySelectorAll("input");t.length>0&&r.utils.trigger("change",t)}};r.init(this)},e.fn.customselect.defaults={labelPosition:"after",style:"list",dropdown:!1,classList:"",targetTypes:["select-multiple","select-one"],parentNode:null,observe:!0,selectedLimit:3,selectedDelimiter:" | ",emptyText:"Nothing selected",selectedText:"selected",allSelectedText:"All selected"}}(jQuery),function(){var e,t,n,r,o;
/*! http://mths.be/array-from v0.2.0 by @mathias */
Array.from||(e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n||function(e,t,n){e[t]=n.value}}(),t=Object.prototype.toString,n=function(e){return"function"==typeof e||"[object Function]"==t.call(e)},r=Math.pow(2,53)-1,o=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!=t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),r)},e(Array,"from",{value:function(t){var r=this;if(null==t)throw new TypeError("`Array.from` requires an array-like object, not `null` or `undefined`");var l,i,a=Object(t);if(arguments.length>1){if(!n(l=arguments[1]))throw new TypeError("When provided, the second argument to `Array.from` must be a function");arguments.length>2&&(i=arguments[2])}for(var c,s,d=o(a.length),u=n(r)?Object(new r(d)):new Array(d),f=0;f<d;)c=a[f],s=l?void 0===i?l(c,f):l.call(i,c,f):c,e(u,f,{value:s,configurable:!0,enumerable:!0}),++f;return u.length=d,u},configurable:!0,writable:!0})),function(e){if(!Array.prototype.find){var t=function(e){var t=Object(this),n=t.length<0?0:t.length>>>0;if(0!==n){if("function"!=typeof e||"[object Function]"!==Object.prototype.toString.call(e))throw new TypeError("Array#find: predicate must be a function");for(var r,o=arguments[1],l=0;l<n;l++)if(r=t[l],e.call(o,r,l,t))return r}};if(Object.defineProperty)try{Object.defineProperty(Array.prototype,"find",{value:t,configurable:!0,enumerable:!1,writable:!0})}catch(e){}Array.prototype.find||(Array.prototype.find=t)}}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});